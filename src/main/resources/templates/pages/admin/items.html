<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{layout/admin-layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품 관리</title>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
    <script type="text/javascript" th:src="@{/js/admin/admin-items.js}" defer></script>
</head>
<body>
<main layout:fragment="content">
    <div class="container">
        <h1 class="mt-4">상품 관리</h1>

        <!-- 검색 & 정렬 -->
        <form th:action="@{/api/admin/items}" method="get">
            <div class="row mb-3 align-items-center">
                <!-- 검색 필드 드롭다운 -->
                <div class="col-md-2">
                    <select id="searchField" name="searchField" class="form-select">
                        <option value="all">전체</option>
                        <option value="itemName">상품명</option>
                        <option value="description">설명</option>
                        <option value="price">가격</option>
                        <option value="stockQuantity">재고</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <input type="text" id="searchKeyword" name="searchKeyword" class="form-control" placeholder="검색어를 입력하세요.">
                </div>
                <div class="col-md-3">
                    <select id="sortSelect" name="sortBy" class="form-select">
                        <option value="createdDate,desc">최신 등록순</option>
                        <option value="createdDate,asc">오래된순</option>
                        <option value="itemName,asc">이름순</option>
                        <option value="itemName,desc">이름역순</option>
                    </select>
                </div>

                <!-- 가격 범위 -->
                <div class="col-md-2">
                    <input type="number" id="priceMin" name="priceMin" class="form-control" placeholder="최소 가격">
                </div>
                <div class="col-md-2">
                    <input type="number" id="priceMax" name="priceMax" class="form-control" placeholder="최대 가격">
                </div>

                <!-- 재고 범위 -->
                <div class="col-md-2">
                    <input type="number" id="stockMin" name="stockMin" class="form-control" placeholder="최소 재고">
                </div>
                <div class="col-md-2">
                    <input type="number" id="stockMax" name="stockMax" class="form-control" placeholder="최대 재고">
                </div>

                <div class="col-md-3 text-end">
                    <button class="btn btn-primary" type="submit">검색</button>
                </div>
            </div>
        </form>

        <!-- 상품 목록 테이블 -->
        <table class="table table-bordered table-hover text-center align-middle">
            <thead class="table-light">
            <tr>
                <th>상품 이미지</th>
                <th data-sort="id" style="cursor:pointer">ID</th>
                <th data-sort="itemName" style="cursor:pointer">상품명</th>
                <th data-sort="price" style="cursor:pointer">가격</th>
                <th data-sort="stockQuantity" style="cursor:pointer">재고</th>
                <th data-sort="createdDate" style="cursor:pointer">생성일</th>
                <th>총 판매량</th>
                <th>상태</th>
                <th>관리</th>
            </tr>
            </thead>
            <tbody id="items-table-body">
            <!-- JS로 상품 데이터 채워짐 -->
            </tbody>
        </table>

        <!-- 페이지네이션 -->
        <nav id="pagination-container" class="d-flex justify-content-center mt-4">
            <!-- 페이지네이션 버튼이 JS로 추가됨 -->
        </nav>
    </div>
</main>
</body>
</html>